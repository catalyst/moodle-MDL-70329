define("core/local/filter/range",["exports","core/local/filter/selectors","core/templates","core/str"],(function(_exports,_selectors,_templates,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Range filter.
   *
   * @module     core/local/filter/range
   * @copyright  2021 Catalyst IT Australia Pty Ltd
   * @author     Ghaly Marc-Alexandre <marc-alexandreghaly@catalyst-ca.net>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_selectors=_interopRequireDefault(_selectors),_templates=_interopRequireDefault(_templates);const filterRangeOptions={0:"optionone",1:"optiontwo",2:"optionthree"};return _exports.default=class{constructor(filterType,filterSet,initialValues,filterRange){this.filterType=filterType,this.rootNode=filterSet,this.initialValues=initialValues,this.filterRange=filterRange,this.setUpRangeUi("text")}tearDown(){}get filterRoot(){return this.rootNode.querySelector(_selectors.default.filter.byName(this.filterType))}async displayRange(context){_templates.default.render("core/local/filter/range",context).then(((rangeUi,js)=>{_templates.default.replaceNodeContents(_selectors.default.filter.regions.values,rangeUi,js)})).fail()}async rangeListenner(type){const placeholderone=await this.placeholderOne,placeholdertwo=await this.placeholderTwo;this.filterRoot.querySelector(_selectors.default.filter.fields.range).addEventListener("change",(()=>{const context={placeholderone:placeholderone,type:type};2===this.rangetype&&(context.placeholdertwo=placeholdertwo),this.displayRange(context)}))}async setUpRangeUi(type,initialValues){const placeholderone=await this.placeholderOne,placeholdertwo=await this.placeholderTwo,context={placeholderone:placeholderone,placeholdertwo:placeholdertwo,type:type},filterRangeContext={};filterRangeContext[filterRangeOptions[2]]=!0,void 0!==this.filterRange&&(filterRangeContext[filterRangeOptions[2]]=!1,filterRangeContext[filterRangeOptions[this.filterRange]]=!0),void 0!==initialValues&&(context.initialvalueone=initialValues[0],context.placeholdertwo=null,initialValues.length>1&&(context.initialvaluetwo=initialValues[1],context.placeholdertwo=placeholdertwo)),_templates.default.render("core/filter_range",filterRangeContext).then(((html,js)=>{_templates.default.replaceNodeContents(_selectors.default.filter.regions.range,html,js),this.displayRange(context).then((()=>{this.rangeListenner(type)})).catch()})).catch()}get placeholderOne(){return(0,_str.get_string)("rangestart","core_question")}get placeholderTwo(){return(0,_str.get_string)("rangeend","core_question")}get name(){return this.filterType}get jointype(){return parseInt(this.filterRoot.querySelector(_selectors.default.filter.fields.join).value,10)}get rangetype(){return parseInt(this.filterRoot.querySelector(_selectors.default.filter.fields.range).value,10)}get rawValues(){const values=[document.getElementById("rangeValue1").value];if(2===this.rangetype){const rangeValue2=document.getElementById("rangeValue2").value;values.push(rangeValue2)}return values}get filterValue(){return{name:this.name,jointype:this.jointype,rangetype:this.rangetype,values:this.rawValues}}},_exports.default}));

//# sourceMappingURL=range.min.js.map